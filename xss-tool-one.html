<!DOCTYPE HTML><html><head><meta charset="utf-8"><title>跨站脚本工具集 | 安全天使&#39;Blog</title><meta name="author" content="Angel"><meta name="description" content="发现寻找XSS漏洞是一个很复杂以及消耗时间的任务，为了找到这些漏洞的位置，我们使用一大批的工具和技术。在这一章，我们探索那些作者在研究测试中发现的非常有价值的工具。"><meta name="keywords" content="XSS漏洞"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta property="og:title" content="跨站脚本工具集"/><meta property="og:site_name" content="安全天使&#39;Blog"/><meta property="og:image" content="undefined"/><link rel="alternative" href="/atom.xml" title="安全天使&#39;Blog" type="application/atom+xml"><link href="/favicon.jpg" rel="icon"><link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/style.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css"><script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.8/jquery.min.js"></script><script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script></head><body id="body" data-spy="scroll" data-target=".toc"><div class="container" id="container">	<div class="content">	<div class="page-header"><h1><a class="brand" href="/">Go Back</a><span class="split"></span><span class="title">跨站脚本工具集</h1></div><span class="date" id="title-date"><strong><i class="fa fa-clock-o"></i>1月 1 2015</strong></span>		<div class="row page">  	<div class="col-xs-12 col-sm-3 col-md-3 toc"> 	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script></div><div class="col-xs-12 col-sm-9 col-md-9 note">		<h2 id="介绍">介绍</h2>
<p>发现寻找XSS漏洞是一个很复杂以及消耗时间的任务，为了找到这些漏洞的位置，我们使用一大批的工具和技术。在这一章，我们探索那些作者在研究测试中发现的非常有价值的工具。</p>
<h2 id="Burp">Burp</h2>
<p>现代浏览器是为速度和效率而生的，这就意味着Web应用的安全评估就是一个很痛苦的任务，因为探究一个Web应用需要深层的分析，通常，为了测试一个应用，你想降低从服务器获得数据和发送数据到服务器的传输速度从而你可以阅读以及改变传输的数据。从而代理出现了。</p>
<p>在安全的早期，代理可以降低向外传输数据的链接速度，所以用户仅仅可以改变传输到服务器的数据；然而，这仅仅是分析Web应用的一部分。有时你非常应该改变接受的数据。例如，你想改变一个cookie使得它不使用Httponly或者移除一个Javascript功能。有时你想获得一个你浏览器发出的每一个请求的双向传输的细节。然后就出现了Burp Proxy(<a href="http://www.portswigger.net/burp/)（译者注：原文链接有误）" target="_blank" rel="external">http://www.portswigger.net/burp/)（译者注：原文链接有误）</a></p>
<p>Burp Proxy是一个叫做Burp Suit的用于Web渗透的Java工具的一部分，但是对于本书的目的，仅仅一个功能是尤其有用的，那就是代理。上手，你需要安装Java的运行环境，你可以从Java的官方网站下载。一旦安装成功，你在你的浏览器改变你的代理设置，使用localhost或者127.0.0.1端口为8080.<br>图2.1chrome的代理服务器设置<br><img src="http://bugorg.qiniudn.com/b1.png" alt="burp proxy"><br>图2.2 Burp Suit的主窗口<br><img src="http://bugorg.qiniudn.com/b2.png" alt="burp proxy"><br>一旦完成以上操作，你就可以启动Burp Proxy了，启动后是一个空白的窗口。 其中Intercept和Options窗口（是我们关注的最重要的窗口。首先，让我们来配置Burp Proxy来监控发送和接受的请求。在Options选项下取消勾选资源类型的限制，勾选Server Response拦截，以及取消勾选’text’作为一个content type。这样将会展示你链接的所有服务器的所有的数据。<br>图2.3 Burp Suit Proxy Options配置屏<br><img src="http://bugorg.qiniudn.com/b3.png" alt="burp proxy"><br>Note：这也是一种识别你系统里面的间谍软件的方法，因为当有任何数据在你的客户端北修改之后，它讲停止并且警告你。如果你想查看你安装了什么间谍软件，你应该对于所有的客户端进行坚挺，因为每一个需要通过代理去展示什么在使用它。<br> 一但完成配置，你应该可以上网并且观察到从主机传入或者传出的所有数据。这既允许你查看传输的数据又允许你在你认为合适的时候进行修改。当然，你进行的任何修改在被传输给浏览器后会影响你并且值影响你，然而，如果它可以关闭javascript的保护，这就可以被用来做一些罪恶的事情，像持续型XSS，通常由于客户端方面的保护它并不被允许。同样的，在Asynchronous Javascript and 　XML（AJAX）的时代，这个工具对于监视和修改双向的传输数据也是很有力的，同时关掉客户端产生的任何防止浏览器进行修改的保护。<br>图2.4 请求监听<br><img src="http://bugorg.qiniudn.com/b4.png" alt="burp proxy"><br>这也可以帮助移除一些有可能泄露给目标的信息，包括cookies， referrers或者其他一些不必须的信息，就如上图所示。另一个有用的特性是转换成16进制模式。特别是在你查看采用交替编码方式，像US-ASCII或者UTF-16.<br>在下面两幅图中，你可以看到，他们或者是不可见字符（null）或者是不在标准的ASCII码0-127的范围内而是在128-255的范围内。在这两种情况中，查看源文件将提供很少甚至无法提供他们采用的编码方法或者实施攻击所需要的特定字符集。（译者注：<a href="http://ha.ckers.org/weird/us-ascii.html网站已经被移除）" target="_blank" rel="external">http://ha.ckers.org/weird/us-ascii.html网站已经被移除）</a><br>图2.5 作为16进制监控（us-ascii）<br><img src="http://bugorg.qiniudn.com/b5.png" alt="burp proxy"><br>图2.6 作为16进制监控  (utf-16)<br><img src="http://bugorg.qiniudn.com/b6.png" alt="burp proxy"><br>Burp Proxy是迄今为止最有用的手动评估Web应用的安全工具之一。他不仅可以帮助我们发现明显的问题，如果你知道你的目标的话它也可以进行规则配置。例如，如果你想仅仅寻找XML文件来调试AJAX应用，就可以创建一个仅仅获取该信息的规则。</p>
<p>最后，Burp仅仅是在大量的可以实现部分或者更多的Burp的功能的软件之一，但是没有别的软件以这种方式工作或者 有Burp Suit这么强大的能力。Burp Suit是一个用来理解HHTP实际工作过程的学习工具。</p>
<div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_bdhome" data-cmd="bdhome" title="分享到百度新首页"></a><a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a><a href="#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a><a href="#" class="bds_print" data-cmd="print" title="分享到打印"></a><a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a></div>&nbsp;<div class="tucao">❐ 热评文章：<br /><div class="ds-top-threads" data-range="monthly" data-num-items="8"></div><div class="urlid"> &nbsp;&nbsp;[ <a href="" target="_blank">跨站脚本工具集</a> ]由Angel发表在 <a href="/">安全天使</a><br />&nbsp; [ 引用地址 ]：http://www.weshell.net/xss-tool-one.html</div></div>
<div class="ds-thread" data-title="跨站脚本工具集" data-url="http://www.weshell.net/xss-tool-one.html"></div><script type="text/javascript">var duoshuoQuery = {short_name:"webshellhost"};(function() {    var ds = document.createElement('script');    ds.type = 'text/javascript';ds.async = true;    ds.src = 'http://static.duoshuo.com/embed.js';    ds.charset = 'UTF-8';    (document.getElementsByTagName('head')[0]    || document.getElementsByTagName('body')[0]).appendChild(ds);})();</script>
	</div></div><div class="container-narrow">	<footer>
<script>var _hmt = _hmt || [];(function() {  var hm = document.createElement("script");  hm.src = "//hm.baidu.com/hm.js?248313087381630ea1a3caba0e789997";  var s = document.getElementsByTagName("script")[0];   s.parentNode.insertBefore(hm, s);})();</script>
<SCRIPT language=javascript>function g(formname)	{var url = "http://www.baidu.com/baidu";if (formname.s[1].checked) {	formname.ct.value = "2097152";}else {	formname.ct.value = "0";}formname.action = url;return true;}</SCRIPT><center><form name="f1" onsubmit="return g(this)" target="_blank"><table bgcolor="#FFFFFF" style="font-size:9pt;"><tr height="60"><td valign="top"></td><td><input name=word size="35" maxlength="100" style="width: 210px;height: 24px;line-height: 24px;font: 14px arial;padding: 2px 5px;margin-right: 3px;border: 2px solid black;outline: 0;vertical-align: middle;margin-top:-27px;"><input type="submit" value="Scan" style="width: 66px;height: 24px;border: 0;color: #ccc;background: black;font-weight: bold;font: bold 14px arial;padding: 0;padding-top: 1px;margin-top:-27px;cursor: pointer;vertical-align: middle;"><br><input name=tn type=hidden value="bds"><input name=cl type=hidden value="3"><input name=ct type=hidden><input name=si type=hidden value="www.weshell.net"><input name=s type=radio style="display:none;"><input name=s type=radio checked style="display:none;"></td></tr></table></form>
<div class="weshell"><font size="0.4em"><strong>[ &copy; 2006-2013 <a href="http://www.weshell.net">安全天使&Angel</a> ] -  [<a href="http://www.miitbeian.gov.cn" target="_blank"> 鄂ICP备105632号-1</a> ] - [<a href="/atom.xml"> RSS源</a> - <a href="/baidusitemap.xml">引擎地图</a> - <a href="https://i0yy.com" target="_blank">自建社工库</a> ]</div>
<script language="javascript" type="text/javascript" src="http://quote.51.la/?id=17600924&amp;mb=3"></script></font></strong></center><div style="display:none"><script language="javascript" type="text/javascript" src="http://js.users.51.la/17600924.js"></script></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>


</footer></div><a id="gotop" href="#"><span>▲</span></a><script src="/js/jquery.imagesloaded.min.js"></script><script src="/js/gallery.js"></script><script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script src="/js/jquery.tableofcontents.min.js"></script><script src="/js/tocgenerator.min.js"></script><script src="/js/main.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script type="text/javascript">(function($){  $('.fancybox').fancybox();})(jQuery);</script></body></html>